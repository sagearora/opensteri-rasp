<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenSteri Printer Portal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>OpenSteri Printer Portal</h1>
            <p>Complete your printer setup and configuration</p>
        </div>
        
        <!-- Section 1: WiFi Setup -->
        <div class="section">
            <div class="section-header">
                <div class="section-icon wifi-icon-bg">
                    üì∂
                </div>
                <div>
                    <h2 class="section-title">WiFi Setup</h2>
                    <p class="section-subtitle">Connect your printer to your local network</p>
                </div>
            </div>
            
            <!-- WiFi Connection Status (shown when connected) -->
            <div id="wifiStatus" class="wifi-status" style="display: none;">
                <div class="status-card">
                    <div class="status-header">
                        <div class="status-icon connected">
                            üì∂
                        </div>
                        <div class="status-info">
                            <h3 id="connectedNetwork">Network Name</h3>
                            <p id="connectionDetails">Connected ‚Ä¢ Signal: 85% ‚Ä¢ IP: 192.168.1.100</p>
                        </div>
                    </div>
                    <div class="status-actions">
                        <button type="button" id="editWifiBtn" class="btn btn-ghost">
                            ‚úèÔ∏è Edit Connection
                        </button>
                        <button type="button" id="disconnectWifiBtn" class="btn btn-danger">
                            üîå Disconnect
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- WiFi Connect Form (shown when not connected) -->
            <div id="wifiConnectForm">
                <form id="wifiForm">
                    <div class="form-group">
                        <label for="networkSelect">Select WiFi Network:</label>
                        <select id="networkSelect" name="network" required>
                            <option value="">Select a network...</option>
                        </select>
                        <div class="rescan-container">
                            <button type="button" id="rescanBtn" class="btn btn-ghost">
                                Can't find your WiFi? Rescan.
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">WiFi Password:</label>
                        <input type="password" id="password" name="password" placeholder="Enter WiFi password" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <span>üîó</span>
                        Connect to WiFi
                    </button>
                </form>
            </div>
            
            <!-- WiFi Edit Form (shown when editing connection) -->
            <div id="wifiEditForm" style="display: none;">
                <form id="editWifiForm">
                    <div class="form-group">
                        <label for="editNetworkSelect">Select WiFi Network:</label>
                        <select id="editNetworkSelect" name="network" required>
                            <option value="">Select a network...</option>
                        </select>
                        <div class="rescan-container">
                            <button type="button" id="editRescanBtn" class="btn btn-ghost">
                                Can't find your WiFi? Rescan.
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editPassword">WiFi Password:</label>
                        <input type="password" id="editPassword" name="password" placeholder="Enter WiFi password" required>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <span>üíæ</span>
                            Update Connection
                        </button>
                        <button type="button" id="cancelEditBtn" class="btn btn-ghost">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <div id="wifiLoading" class="loading">
                <p>Checking WiFi status...</p>
            </div>
            
            <div id="wifiError" class="error"></div>
            <div id="wifiSuccess" class="success"></div>
        </div>
        
        <!-- Section 2: OpenSteri.com Credentials -->
        <div class="section">
            <div class="section-header">
                <div class="section-icon credentials-icon-bg">
                    üîê
                </div>
                <div>
                    <h2 class="section-title">OpenSteri.com Credentials</h2>
                    <p class="section-subtitle">Connect to your OpenSteri account</p>
                </div>
            </div>
            
            <form id="credentialsForm">
                <div class="form-group">
                    <label for="joinToken">Join Code:</label>
                    <input type="text" id="joinToken" name="joinToken" placeholder="Enter your join code" required>
                </div>
                
                <button type="submit" class="btn btn-warning">
                    <span>üîó</span>
                    Join OpenSteri
                </button>
            </form>
            
            <div class="form-group">
                <button type="button" id="checkTokenBtn" class="btn btn-ghost">
                    üîç Check Token Status
                </button>
                <div id="tokenStatus" class="status-indicator" style="display: none;">
                    <span>‚è≥</span>
                    <span id="tokenStatusText">Checking token status...</span>
                </div>
            </div>
            
            <div id="credentialsLoading" class="loading">
                <p>Joining OpenSteri...</p>
            </div>
            
            <div id="credentialsError" class="error"></div>
            <div id="credentialsSuccess" class="success"></div>
        </div>
        
        <!-- Section 3: Printer Setup -->
        <div class="section">
            <div class="section-header">
                <div class="section-icon printer-icon-bg">
                    üñ®Ô∏è
                </div>
                <div>
                    <h2 class="section-title">Printer Setup</h2>
                    <p class="section-subtitle">Configure your printer hardware settings</p>
                </div>
            </div>
            
            <!-- Printer Connection Status (shown when connected) -->
            <div id="printerStatus" class="printer-status" style="display: none;">
                <div class="status-card">
                    <div class="status-header">
                        <div class="status-icon connected">
                            üñ®Ô∏è
                        </div>
                        <div class="status-info">
                            <h3 id="connectedPrinter">Printer Name</h3>
                            <p id="printerDetails">Connected ‚Ä¢ Model: Thermal ‚Ä¢ Paper: 4x6 inch</p>
                        </div>
                    </div>
                    <div class="status-actions">
                        <button type="button" id="editPrinterBtn" class="btn btn-ghost">
                            ‚úèÔ∏è Edit Configuration
                        </button>
                        <button type="button" id="disconnectPrinterBtn" class="btn btn-danger">
                            üîå Disconnect Printer
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Printer Setup Form (shown when not connected) -->
            <div id="printerSetupForm">
                <div class="form-group">
                    <label>Printer Status:</label>
                    <div class="status-indicator status-unknown">
                        <span>‚è≥</span>
                        Checking printer connection...
                    </div>
                </div>
                
                <form id="printerForm">
                    <div class="form-group">
                        <label for="printerName">Printer Name:</label>
                        <input type="text" id="printerName" name="printerName" placeholder="Enter printer name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="printerModel">Printer Model:</label>
                        <select id="printerModel" name="printerModel" required>
                            <option value="">Select printer model...</option>
                            <option value="thermal">Thermal Printer</option>
                            <option value="inkjet">Inkjet Printer</option>
                            <option value="laser">Laser Printer</option>
                            <option value="label">Label Printer</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="paperSize">Paper Size:</label>
                        <select id="paperSize" name="paperSize" required>
                            <option value="">Select paper size...</option>
                            <option value="A4">A4</option>
                            <option value="Letter">Letter</option>
                            <option value="Legal">Legal</option>
                            <option value="4x6">4x6 inch</option>
                            <option value="3x5">3x5 inch</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-success">
                        <span>‚öôÔ∏è</span>
                        Configure Printer
                    </button>
                </form>
            </div>
            
            <!-- Printer Edit Form (shown when editing configuration) -->
            <div id="printerEditForm" style="display: none;">
                <form id="editPrinterForm">
                    <div class="form-group">
                        <label for="editPrinterName">Printer Name:</label>
                        <input type="text" id="editPrinterName" name="printerName" placeholder="Enter printer name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="editPrinterModel">Printer Model:</label>
                        <select id="editPrinterModel" name="printerModel" required>
                            <option value="">Select printer model...</option>
                            <option value="thermal">Thermal Printer</option>
                            <option value="inkjet">Inkjet Printer</option>
                            <option value="laser">Laser Printer</option>
                            <option value="label">Label Printer</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editPaperSize">Paper Size:</label>
                        <select id="editPaperSize" name="paperSize" required>
                            <option value="">Select paper size...</option>
                            <option value="A4">A4</option>
                            <option value="Letter">Letter</option>
                            <option value="Legal">Legal</option>
                            <option value="4x6">4x6 inch</option>
                            <option value="3x5">3x5 inch</option>
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-success">
                            <span>üíæ</span>
                            Update Configuration
                        </button>
                        <button type="button" id="cancelEditPrinterBtn" class="btn btn-ghost">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
            
            <div id="printerLoading" class="loading">
                <p>Configuring printer settings...</p>
            </div>
            
            <div id="printerError" class="error"></div>
            <div id="printerSuccess" class="success"></div>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html> 